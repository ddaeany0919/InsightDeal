# InsightDeal 프로젝트 - 완전한 개발 계획서

## 📱 프로젝트 개요

**InsightDeal**은 사용자가 원하는 상품의 최저가를 추적하고, 커뮤니티 핫딜 정보를 종합적으로 제공하는 Android 앱입니다. AI 기반 상품 분석과 다중 쇼핑몰 가격 비교를 통해 사용자에게 최적의 구매 타이밍을 제공합니다.

## 🎯 핵심 기능

### 1. 링크 기반 위시리스트
- **상품 링크 입력**: 쿠팡, 11번가, 네이버쇼핑 등 주요 쇼핑몰 링크 지원
- **AI 상품 분석**: 링크를 통해 상품명, 브랜드, 모델명, 옵션 자동 추출
- **다중 사이트 가격 비교**: 동일 상품을 여러 쇼핑몰에서 검색하여 최저가 제공
- **목표가 알림**: 설정한 목표가 이하로 떨어지면 즉시 알림

### 2. 커뮤니티 핫딜 통합 시스템 ⭐
- **핫딜 커뮤니티 스크래핑**: 뽐뿌, 클리앙, 딜바다, 쿠킹패드 등 주요 핫딜 사이트
- **실시간 핫딜 피드**: 커뮤니티별 인기 딜 정보를 실시간으로 수집
- **가격 검증**: 커뮤니티에 올라온 가격이 실제로 최저가인지 자동 검증
- **딜 추천 알고리즘**: 사용자 위시리스트와 매칭하여 관련 핫딜 자동 추천

### 3. 스마트 가격 추적
- **가격 히스토리**: 상품별 가격 변동 차트 제공
- **할인 패턴 분석**: 특정 상품의 할인 주기 예측
- **구매 타이밍 추천**: 최적의 구매 시점 AI 분석

## 🔧 현재까지 완료된 작업 (2025.11.06 기준)

### ✅ 완료된 핵심 기능
1. **기본 CRUD**: 위시리스트 추가/삭제/복원 기능
2. **UI/UX**: Material 3 기반 현대적 디자인, 스와이프 삭제, 탭형 다이얼로그
3. **네트워크 통신**: Retrofit 기반 백엔드 API 연동
4. **상태 관리**: Compose ViewModel + StateFlow 패턴
5. **로깅 시스템**: 디버깅용 상세 로그 (WishlistVM, WishlistRepo, SwipeDismiss 태그)

### ✅ 백엔드 인프라
1. **FastAPI 서버**: Python 기반 RESTful API
2. **AI 상품 분석**: 링크에서 상품 정보 추출 (POST /api/product/analyze-link)
3. **위시리스트 관리**: CRUD API 전체 구현
4. **네이버 쇼핑 API**: 상품 검색 및 가격 비교 연동

### 🔄 현재 해결 중인 이슈
1. **네트워크 연결**: 10.0.2.2:8000 타임아웃 문제
2. **UI 단순화**: 링크 기반 추가만 남기고 키워드 방식 제거
3. **로그 정리**: 디버거 노이즈 메시지 제거

## 🚀 향후 개발 로드맵

### Phase 1: 핵심 기능 완성 (1-2주)
#### 우선순위 HIGH
- [ ] 네트워크 연결 안정화
- [ ] 링크 전용 추가 다이얼로그 완성
- [ ] 실시간 가격 업데이트 기능
- [ ] 목표가 달성 알림 시스템

### Phase 2: 커뮤니티 핫딜 통합 (2-3주) ⭐
#### 핫딜 스크래퍼 시스템
```python
# backend/scrapers/hotdeal_scrapers.py
class HotdealScraperManager:
    def __init__(self):
        self.scrapers = {
            'ppomppu': PpomppuScraper(),
            'clien': ClienScraper(),
            'dealbada': DealbadaScraper(),
            'quasarzone': QuasarzoneScraper()
        }
    
    async def get_hotdeals(self, limit=50):
        # 각 커뮤니티에서 핫딜 수집
        # 가격 검증 및 필터링
        # 중복 제거 및 순위 매기기
```

#### UI 통합
- **핫딜 탭**: 메인 화면에 위시리스트와 함께 핫딜 탭 추가
- **필터링**: 카테고리별, 가격대별, 할인율별 필터
- **위시리스트 연동**: 핫딜 상품을 바로 위시리스트에 추가

### Phase 3: 고급 기능 (3-4주)
#### 스마트 분석
- [ ] 가격 예측 AI 모델
- [ ] 개인화 추천 엔진
- [ ] 할인 패턴 분석

#### 쇼핑몰 확장
- [ ] 쿠팡, G마켓, 11번가 API 연동
- [ ] 해외 직구 사이트 지원
- [ ] 오프라인 매장 가격 비교

### Phase 4: 사용자 경험 최적화 (4-5주)
#### 고급 UX
- [ ] 오프라인 모드
- [ ] 푸시 알림 최적화
- [ ] 사용자 맞춤 대시보드

## 📊 기술 스택

### Frontend (Android)
- **언어**: Kotlin
- **UI**: Jetpack Compose + Material 3
- **아키텍처**: MVVM + Repository 패턴
- **상태관리**: StateFlow + ViewModel
- **네트워킹**: Retrofit + OkHttp
- **의존성 주입**: Compose Factory (향후 Hilt 전환 예정)

### Backend
- **언어**: Python
- **프레임워크**: FastAPI
- **데이터베이스**: SQLite (개발) → PostgreSQL (운영)
- **AI/ML**: OpenAI API, BeautifulSoup
- **스크래핑**: Selenium, requests
- **컨테이너**: Docker + Docker Compose

### 인프라
- **배포**: 카페24 VPS (Ubuntu)
- **모니터링**: 커스텀 로깅 시스템
- **CI/CD**: GitHub Actions (예정)

## 💡 핵심 아이디어: 커뮤니티 핫딜 통합

### 스크래퍼 대상 사이트
1. **뽐뿌** (ppomppu.co.kr): 가전, 디지털 딜
2. **클리앙** (clien.net): IT, 생활용품 딜
3. **딜바다** (dealbada.co.kr): 종합 쇼핑 딜
4. **퀘이사존** (quasarzone.com): PC, 게이밍 딜
5. **쿠킹패드** (cookingpapa.com): 식품, 생활용품 딜

### 핫딜 검증 시스템
```python
class DealVerifier:
    async def verify_deal(self, deal_info):
        # 1. 실제 상품 페이지 접근 확인
        # 2. 가격 정보 실시간 검증
        # 3. 재고 상태 확인
        # 4. 할인율 계산
        # 5. 타 쇼핑몰과 가격 비교
        return verified_deal
```

### 사용자 경험 플로우
1. **핫딜 발견**: 커뮤니티에서 새로운 딜 자동 수집
2. **가격 검증**: 실제 쇼핑몰에서 가격과 재고 확인
3. **사용자 매칭**: 위시리스트 아이템과 연관성 분석
4. **알림 발송**: 관심 있을 만한 딜 즉시 알림
5. **원클릭 추가**: 핫딜을 바로 위시리스트에 추가

## 🎨 UI/UX 설계 철학

### 사용자 중심 설계
- **직관적 네비게이션**: 탭 기반 간단한 구조
- **빠른 액션**: 스와이프, 원클릭 기능 중심
- **시각적 피드백**: 애니메이션, 진동, 색상 변화
- **한국형 UX**: 한국 사용자에 최적화된 문구와 플로우

### 접근성 고려
- **대비율 준수**: Material 3 색상 시스템 활용
- **터치 영역**: 최소 48dp 터치 타겟 보장
- **다국어 지원**: 한국어 우선, 영어 지원 예정

## 🔐 보안 및 개인정보

### 데이터 보호
- **최소 수집 원칙**: 필수 정보만 수집
- **로컬 우선**: 민감 데이터는 기기 내 저장
- **암호화**: 네트워크 통신 TLS 1.3 강제
- **익명화**: 사용자 식별 정보 최소화

## 📈 비즈니스 모델 (향후 고려사항)

### 수익 창출 방안
1. **제휴 마케팅**: 쇼핑몰별 제휴 수수료
2. **프리미엄 기능**: 고급 분석, 무제한 추적
3. **광고 모델**: 관련 상품 추천 광고

### 시장 차별화 요소
- **AI 기반 정확한 상품 매칭**
- **커뮤니티 딜과 위시리스트 연동**
- **실시간 가격 검증 시스템**
- **한국 시장 특화 UX**

## 🎯 성공 지표 (KPI)

### 사용자 지표
- **DAU**: 일일 활성 사용자 1,000명 (3개월 목표)
- **위시리스트 등록**: 사용자당 평균 10개 상품
- **알림 정확도**: 목표가 달성 알림 90% 정확도
- **딜 검증률**: 커뮤니티 딜 95% 이상 검증

### 기술 지표
- **응답 시간**: API 평균 응답 시간 < 2초
- **가격 업데이트**: 시간당 95% 이상 성공률
- **앱 크래시**: < 0.1% 크래시율 유지
- **배터리 효율**: 백그라운드 실행 시 < 1% 배터리 사용

## 🔄 개발 프로세스

### 애자일 스프린트 (2주 단위)
- **Sprint 1-2**: 핵심 기능 안정화
- **Sprint 3-4**: 커뮤니티 스크래퍼 구현
- **Sprint 5-6**: AI 분석 고도화
- **Sprint 7-8**: 사용자 경험 최적화

### 품질 관리
- **코드 리뷰**: 모든 커밋에 대한 리뷰
- **테스트**: Unit/Integration/UI 테스트 커버리지 80%
- **로깅**: 상세한 디버깅 로그 시스템
- **모니터링**: 실시간 에러 추적 및 성능 모니터링

## 🌟 혁신적 아이디어: 커뮤니티 딜 + 위시리스트 융합

### 핵심 혁신 포인트
1. **스마트 매칭**: 사용자 위시리스트와 커뮤니티 핫딜 자동 연결
2. **가격 검증**: 커뮤니티 딜의 실제 가격과 재고 상태 실시간 확인
3. **종합 추천**: 개인 관심사 + 커뮤니티 트렌드 결합한 딜 추천
4. **신뢰도 시스템**: 딜 정보의 신뢰도 점수화 및 사용자 평가

### 구현 예시
```kotlin
// HotdealScreen.kt - 핫딜 화면
@Composable
fun HotdealScreen(
    viewModel: HotdealViewModel = viewModel()
) {
    val hotdeals by viewModel.hotdeals.collectAsState()
    val wishlistItems by viewModel.wishlistItems.collectAsState()
    
    LazyColumn {
        items(hotdeals) { deal ->
            HotdealCard(
                deal = deal,
                isWishlistMatch = wishlistItems.any { it.matches(deal) },
                onAddToWishlist = { viewModel.addToWishlist(deal) },
                onVerifyPrice = { viewModel.verifyDealPrice(deal) }
            )
        }
    }
}
```

## 📋 상세 개발 계획

### 즉시 착수 (이번 주)
1. **AddWishlistDialog 링크 전용 변경**
   - 키워드 탭 제거, 링크 입력만 제공
   - 분석하기 → 미리보기 → 추가 플로우 완성

2. **네트워크 연결 안정화**
   - BASE_URL 에뮬레이터/실기기 자동 감지
   - 연결 타임아웃 20초 연장
   - 재시도 메커니즘 추가

3. **로그 시스템 정리**
   - 프로덕션용 로그 필터링
   - 성능 모니터링 로그 추가

### 1주차: 커뮤니티 스크래퍼 기초 구현
```python
# backend/scrapers/community_scrapers.py
class PpomppuScraper:
    async def scrape_hotdeals(self):
        # 뽐뿌 핫딜 게시판 크롤링
        # 제목, 가격, 링크, 추천수 추출
        
class ClienScraper:
    async def scrape_hotdeals(self):
        # 클리앙 알뜰구매 크롤링
        
class HotdealAggregator:
    async def collect_all_deals(self):
        # 모든 스크래퍼 통합 실행
        # 중복 제거 및 순위 매기기
```

### 2주차: 핫딜 검증 시스템
```python
class DealValidator:
    async def validate_deal(self, deal):
        # 실제 쇼핑몰 가격 확인
        # 재고 상태 체크
        # 할인율 계산
        # 가격 히스토리와 비교
```

### 3주차: UI 통합 및 매칭 알고리즘
```kotlin
// 핫딜과 위시리스트 매칭
data class DealMatch(
    val deal: HotdealItem,
    val wishlistItem: WishlistItem,
    val matchScore: Float,
    val priceAdvantage: Int
)
```

### 4주차: 알림 시스템 및 최적화
- 푸시 알림 서비스
- 배터리 최적화
- 성능 튜닝

## 🎨 핫딜 화면 UI 설계

### 메인 탭 구조
```
[위시리스트] [핫딜] [설정]
```

### 핫딜 탭 레이아웃
- **상단**: 필터 버튼 (카테고리, 가격대, 할인율)
- **메인**: 핫딜 카드 리스트
- **카드 구성**:
  - 상품 이미지 (썸네일)
  - 상품명 + 브랜드
  - 할인 전 가격 (취소선)
  - 할인 후 가격 (강조)
  - 할인율 배지
  - 출처 (커뮤니티명)
  - 추천수/조회수
  - "위시리스트 추가" 버튼

### 인터랙션 디자인
- **상하 스크롤**: 핫딜 목록 탐색
- **좌우 스와이프**: 위시리스트 추가/제거
- **길게 누르기**: 상세 정보 보기
- **당겨서 새로고침**: 최신 딜 업데이트

## 🔮 장기 비전

### 플랫폼 확장
- **웹 버전**: 데스크탑 사용자 지원
- **크롬 확장**: 쇼핑 중 실시간 가격 비교
- **API 서비스**: 타 앱에 가격 정보 제공

### AI 고도화
- **딥러닝 모델**: 상품 이미지 인식
- **자연어 처리**: 리뷰 감정 분석
- **예측 분석**: 가격 변동 예측 모델

### 커뮤니티 기능
- **사용자 리뷰**: 딜에 대한 사용자 평가
- **공유 기능**: SNS 연동 딜 공유
- **그룹 위시리스트**: 가족/친구 간 위시리스트 공유

## 📝 개발 리소스 및 일정

### 인력 배치
- **Android 개발**: 1명 (메인)
- **Backend 개발**: 1명 (AI/스크래핑 담당)
- **UI/UX 디자인**: 0.5명 (컨설팅)
- **QA 테스터**: 0.5명 (사용자 피드백)

### 예산 추정
- **서버 비용**: 월 50,000원 (카페24 VPS)
- **API 비용**: 월 100,000원 (OpenAI, 네이버 등)
- **도메인/SSL**: 연 30,000원
- **총 운영비**: 월 약 150,000원

### 출시 목표
- **알파 버전**: 2025년 12월 (핵심 기능)
- **베타 버전**: 2026년 1월 (커뮤니티 딜 통합)
- **정식 출시**: 2026년 2월 (완전한 기능)

## ✨ 기대 효과

### 사용자 가치
- **시간 절약**: 여러 사이트 비교 시간 90% 단축
- **비용 절약**: 평균 15-20% 구매 비용 절약
- **정보 통합**: 흩어진 딜 정보를 한 곳에서 확인

### 시장 임팩트
- **쇼핑 패러다임 변화**: 수동 검색 → 자동 추천
- **투명한 가격 정보**: 소비자 권익 향상
- **효율적 유통**: 쇼핑몰 간 경쟁 촉진

---

*이 문서는 InsightDeal 프로젝트의 완전한 비전과 실행 계획을 담고 있습니다. 단계별로 체계적으로 개발하여 사용자들이 정말 자주 사용하고 선호하는 앱을 만드는 것이 목표입니다.*